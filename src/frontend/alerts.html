<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Alert Manager</title>
  <link rel="stylesheet" href="/static/css/styles.css">
  <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
/>
  <script src="https://cdn.jsdelivr.net/npm/jwt-decode@3.1.2/build/jwt-decode.min.js"></script>
</head>
<body>
  <div class="header">
    <a href="/index" style="text-decoration: none">
      <h2 style="color: white; margin: 0 15px;">Dashboard</h2>
    </a>
    <nav>
      <a href="/alerts" style="color: white; margin: 0 15px;">Alerts</a>
      <a href="/settings" style="color: white; margin: 0 15px;">Settings</a>
      <a href="/" onclick="localStorage.removeItem('patient')" id='logoutButton' style="color: white; margin: 0 15px;">Logout</a>
    </nav>
  </div>

  <div class="alerts-container">
    <h1>Alert Dashboard</h1>

    <!-- Create Alert Form -->
    <form id="alertForm">
      <label>
        Sensor Type
        <select name="sensor_type" required>
          <option value="ECG">ECG</option>
          <option value="SPO2">SPO2</option>
          <option value="BPM">BPM</option>
        </select>
      </label>
      <label>
        Comparison
        <select name="comparison" required>
          <option value=">">Greater Than (&gt;)</option>
          <option value="<">Less Than (&lt;)</option>
          <option value="=">Equal To (=)</option>
        </select>
      </label>
      <label>
        Threshold Value
        <input type="number" name="threshold_value" required />
      </label>
      <label>
        Message
        <input type="text" name="message" required />
      </label>
      <button type="submit">Create Alert</button>
    </form>

    <!-- Alerts Table -->
    <table class="alerts-table">
      <thead>
        <tr>
          <th>Sensor</th>
          <th>Measured</th>
          <th>Threshold</th>
          <th>Cmp.</th>
          <th>Message</th>
          <th>Sent?</th>
          <th>Timestamp</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="alertsBody">
        <tr><td colspan="8" style="text-align:center;">Loading alerts…</td></tr>
      </tbody>
    </table>
  </div>

  <script src="/static/js/alerts.js" defer></script>
</body>
<footer>
  <p>CMSC355 Group Project<br> © 2025. Blah Blah All rights reserved.</p>
</footer>
</html>
